<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 · Not Found — John Hanacek</title>
    <meta name="description" content="Page not found - John Hanacek portfolio">
    <meta name="robots" content="noindex, nofollow">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./Assets/favicon-jhsigfrmpaper.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Raleway:wght@100;200;300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles/shared.css">

    <style>
        /* Fish canvas overlay — full viewport, pointer-events:none so links work */
        #fishCanvas {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        /* Page content sits above fish canvas */
        #nav, .skip-link, #cursorSpotlight { z-index: 100; }
        .page-header, main, footer { position: relative; z-index: 10; }

        /* Compact page-header for 404 */
        .page-header {
            padding-bottom: var(--space-sm);
        }
        .page-header .error-sub {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: rgba(77, 201, 246, 0.45);
            letter-spacing: 0.08em;
            margin: 0.4rem 0 0;
        }

        /* Tighten section padding so page fits viewport */
        main > section {
            padding-top: var(--space-sm);
            padding-bottom: var(--space-sm);
        }
        .card-grid.cols-3 {
            margin-top: 0;
        }
        footer {
            padding-top: var(--space-sm);
        }
    </style>
</head>
<body>
    <canvas id="fishCanvas" aria-hidden="true"></canvas>

    <!-- Interactive Cursor Spotlight -->
    <div id="cursorSpotlight"></div>

    <a href="#main" class="skip-link">Skip to main content</a>

    <nav id="nav" role="navigation" aria-label="Main navigation">
        <div class="nav-inner">
            <div class="nav-left">
                <a href="index.html" class="shape-link" aria-label="Home">
                    <svg class="shape triangle" viewBox="0 0 40 40"><polygon points="20,8 34,32 6,32"/></svg>
                    <img class="shape-label shape-label-img" src="./Assets/footer-JHsig.png" alt="JH">
                </a>
                <a href="design.html" class="shape-link" aria-label="Design">
                    <svg class="shape rounded-square" viewBox="0 0 40 40"><rect x="6" y="6" width="28" height="28" rx="6"/></svg>
                    <span class="shape-label">DESIGN</span>
                </a>
                <a href="art.html" class="shape-link" aria-label="Art">
                    <svg class="shape circle" viewBox="0 0 40 40"><circle cx="20" cy="20" r="14"/></svg>
                    <span class="shape-label">ART</span>
                </a>
                <a href="index.html" class="nav-title">John Hanacek</a>
                <a href="about.html" class="shape-link secondary" aria-label="About">
                    <svg class="shape diamond" viewBox="0 0 40 40"><polygon points="20,6 34,20 20,34 6,20"/></svg>
                    <span class="shape-label">ABOUT</span>
                </a>
                <a href="services.html" class="shape-link secondary" aria-label="Services">
                    <svg class="shape star" viewBox="0 0 40 40"><polygon points="20,6 23,16 34,16 25,22 28,34 20,26 12,34 15,22 6,16 17,16"/></svg>
                    <span class="shape-label">SERVICES</span>
                </a>
            </div>
            <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-right">
                <li><a href="index.html">Home</a></li>
                <li><a href="design.html">Design</a></li>
                <li><a href="art.html">Art</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="services.html">Services</a></li>
            </ul>
        </div>
    </nav>

    <header class="page-header" id="top">
        <h1><span class="jh-sig"><span class="sr-only">JH</span><img src="./Assets/footer-JHsig.png" alt="" aria-hidden="true"></span> <span class="meta">404</span></h1>
        <p class="error-sub">// the fish swam off with it</p>
    </header>

    <main id="main">
        <section>
            <div class="card-grid cols-3">
                <div class="content-card">
                    <h4><a href="index.html">Home</a></h4>
                    <p>Interactive fish minigame canvas and portfolio introduction.</p>
                </div>
                <div class="content-card">
                    <h4><a href="design.html">Design</a></h4>
                    <p>Design work, interactive canvas demos, and case studies.</p>
                </div>
                <div class="content-card">
                    <h4><a href="art.html">Art</a></h4>
                    <p>Interactive installations, writing, 3D sculpture, and photography.</p>
                </div>
                <div class="content-card">
                    <h4><a href="about.html">About</a></h4>
                    <p>Full bio, work history, education, and research publications.</p>
                </div>
                <div class="content-card">
                    <h4><a href="services.html">Services</a></h4>
                    <p>Founding design, AI-native products, XR, and consulting.</p>
                </div>
                <div class="content-card">
                    <h4><a href="mailto:hi@johnhanacek.com">Contact</a></h4>
                    <p>hi@johnhanacek.com</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-oval">
            <p class="footer-signature"><img src="./Assets/footer-JHsig.png" alt="John Hanacek signature" loading="lazy"></p>
            <p class="footer-copyright">© 2026 John Hanacek · JHDesign LLC</p>
            <p class="footer-github"><a href="https://github.com/johnhanacek" target="_blank" rel="noopener">github.com/johnhanacek</a></p>
            <p class="version">Portfolio v1.5 · Feb 2026<br>Made with Claude Code &amp; Open Code</p>
        </div>
    </footer>

    <script src="./scripts/shared.js"></script>
    <script>
    // ─── Cursor Fish ───────────────────────────────────────────────────────────
    // One medium fish that lazily follows the cursor.
    // Renders using the exact same bodyPoints + throughLine approach as index.html.
    (function() {
        const canvas = document.getElementById('fishCanvas');
        const ctx = canvas.getContext('2d');

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resize();
        window.addEventListener('resize', resize);

        // ── Build medium-fish geometry (matches index.html procedural shape) ────
        // bodyWidth = 45px (solidly medium tier: 35–60px range)
        const bodyWidth  = 45;
        const bodyHeight = bodyWidth * 0.45;
        const bodyLen    = bodyWidth * 1.5;
        const tailLen    = bodyLen * 0.5;
        const tailSpread = bodyHeight * 0.8;
        const bC         = bodyLen * 0.1; // body centre offset

        // Outline points — same formula as the game's procedural fish fallback
        const bodyPoints = [
            { x:  bodyLen - bC,              y:  0               }, // nose
            { x:  bodyLen * 0.7 - bC,        y: -bodyHeight * 0.5 },
            { x:  bodyLen * 0.3 - bC,        y: -bodyHeight * 0.8 },
            { x: -bodyLen * 0.2 - bC,        y: -bodyHeight * 0.6 },
            { x: -bodyLen * 0.5 - bC,        y: -bodyHeight * 0.3 },
            { x: -bodyLen * 0.5 - tailLen - bC, y: -tailSpread  },
            { x: -bodyLen * 0.5 - tailLen * 0.5 - bC, y: 0      },
            { x: -bodyLen * 0.5 - tailLen - bC, y:  tailSpread  },
            { x: -bodyLen * 0.5 - bC,        y:  bodyHeight * 0.3 },
            { x: -bodyLen * 0.2 - bC,        y:  bodyHeight * 0.6 },
            { x:  bodyLen * 0.3 - bC,        y:  bodyHeight * 0.8 },
            { x:  bodyLen * 0.7 - bC,        y:  bodyHeight * 0.5 },
            { x:  bodyLen - bC,              y:  0               },
        ];

        // ── Fish state ──────────────────────────────────────────────────────────
        const fish = {
            x: window.innerWidth  * 0.5,
            y: window.innerHeight * 0.6,
            vx: 0.5, vy: 0,
            heading: 0,
            now: 0,   // frame time (ms) for wiggle phase
        };

        // Cursor target
        const cursor = {
            x: window.innerWidth  * 0.5,
            y: window.innerHeight * 0.4,
        };
        document.addEventListener('mousemove', e => { cursor.x = e.clientX; cursor.y = e.clientY; });
        document.addEventListener('touchmove', e => {
            cursor.x = e.touches[0].clientX;
            cursor.y = e.touches[0].clientY;
        }, { passive: true });

        // ── Draw — mirrors the medium-fish branch of drawFishEntities() ─────────
        const COLOR      = '#4dc9f6';   // aquaColors.fish[1]

        function drawFish() {
            const strokePulse = 1 + 0.15 * Math.sin(fish.now / 800);

            ctx.save();
            ctx.translate(fish.x, fish.y);
            ctx.rotate(fish.heading);
            ctx.strokeStyle = COLOR;
            ctx.lineWidth   = 2.5 * strokePulse;
            ctx.lineCap     = 'round';
            ctx.lineJoin    = 'round';

            // Body outline
            ctx.globalAlpha = 0.9;
            ctx.beginPath();
            ctx.moveTo(bodyPoints[0].x, bodyPoints[0].y);
            for (let i = 1; i < bodyPoints.length; i++) {
                const p0 = bodyPoints[i - 1];
                const p1 = bodyPoints[i];
                ctx.quadraticCurveTo(p0.x, p0.y, (p0.x + p1.x) / 2, (p0.y + p1.y) / 2);
            }
            ctx.closePath();
            ctx.stroke();

            // Fill — 65% opacity, same as game
            ctx.globalAlpha = 0.65;
            ctx.fillStyle   = COLOR;
            ctx.fill();

            ctx.globalAlpha = 1;
            ctx.restore();
        }

        // ── Physics ─────────────────────────────────────────────────────────────
        const MAX_SPEED   = 3.5;
        const VEL_LERP    = 0.92;
        const TURN_LERP   = 0.04;
        const ORBIT_R     = 90;   // orbit radius around cursor (px)
        const ORBIT_SPEED = 0.018; // radians per frame
        let orbitAngle    = Math.random() * Math.PI * 2;
        let orbiting      = false;

        function update() {
            fish.now += 16;

            const dx   = cursor.x - fish.x;
            const dy   = cursor.y - fish.y;
            const dist = Math.sqrt(dx * dx + dy * dy);

            let targetVx, targetVy;

            if (!orbiting && dist > ORBIT_R + 20) {
                // Chase — swim toward the orbit radius boundary
                const pull = Math.min(dist / 200, 1);
                targetVx = (dx / dist) * MAX_SPEED * pull;
                targetVy = (dy / dist) * MAX_SPEED * pull;
            } else {
                // Orbit — circle the cursor at a fixed radius
                orbiting = true;
                orbitAngle += ORBIT_SPEED;
                // If cursor moved far away, break orbit and chase again
                if (dist > ORBIT_R * 2.5) orbiting = false;
                const targetX = cursor.x + Math.cos(orbitAngle) * ORBIT_R;
                const targetY = cursor.y + Math.sin(orbitAngle) * ORBIT_R;
                const odx = targetX - fish.x;
                const ody = targetY - fish.y;
                const odist = Math.sqrt(odx * odx + ody * ody) || 1;
                targetVx = (odx / odist) * MAX_SPEED;
                targetVy = (ody / odist) * MAX_SPEED;
            }

            fish.vx = fish.vx * VEL_LERP + targetVx * (1 - VEL_LERP);
            fish.vy = fish.vy * VEL_LERP + targetVy * (1 - VEL_LERP);

            const spd = Math.sqrt(fish.vx * fish.vx + fish.vy * fish.vy);
            if (spd > MAX_SPEED) { fish.vx = fish.vx / spd * MAX_SPEED; fish.vy = fish.vy / spd * MAX_SPEED; }

            fish.x += fish.vx;
            fish.y += fish.vy;

            // Soft edge push
            const m = 80;
            if (fish.x < m)                  fish.vx += 0.3;
            if (fish.x > canvas.width  - m)  fish.vx -= 0.3;
            if (fish.y < m)                  fish.vy += 0.3;
            if (fish.y > canvas.height - m)  fish.vy -= 0.3;

            // Heading — smooth angle lerp
            if (spd > 0.05) {
                const target = Math.atan2(fish.vy, fish.vx);
                let delta = target - fish.heading;
                while (delta >  Math.PI) delta -= Math.PI * 2;
                while (delta < -Math.PI) delta += Math.PI * 2;
                fish.heading += delta * TURN_LERP;
            }
        }

        function loop() {
            update();
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawFish();
            requestAnimationFrame(loop);
        }

        loop();
    })();
    </script>
</body>
</html>
